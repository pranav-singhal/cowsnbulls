<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <style media="screen">
  .inputs { width: 30px; margin: 5px;  }
  #aplphabet{
    float: right;
  }
  #aplphabet span{

    width:40px;
    margin: 10px;
    height: 50px;
    font-size: 1.4em;
  }

  </style>
  <body>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>

<span id="intro">"please wait while I get all the bulls and cows in line.(The donkeys are already here)"<br>

  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
  	 width="667px" height="667px" viewBox="0 0 267 267" enable-background="new 0 0 667 667" xml:space="preserve">
  <g>
  	<g>
  		<g id="earR">
  			<g>
  				<g>
  					<path fill="#4F7896" d="M153.673,108.286c0,0-4.238-20.594,1.002-42.805c0,0,1.951-8.08,6.1,0.806
  						c4.151,8.886,15.159,33.804,7.782,52.768L153.673,108.286z"/>
  				</g>
  			</g>
  			<g >
  				<g>
  					<path fill="#D86D7A" d="M157.314,106.094c0,0-2.307-14.079-0.816-31.663c0,0,1.091-9.035,3.604-2.712
  						c5.766,14.51,9.317,32.107,6.021,41.128L157.314,106.094z"/>
  				</g>
  			</g>
  		</g>
  		<g id="earL">
  			<g>
  				<g>
  					<path fill="#4F7896" d="M132.336,108.286c0,0,5.911-20.178,2.508-42.743c0,0-1.283-8.213-6.146,0.303
  						c-4.864,8.517-17.877,32.448-12.078,51.954L132.336,108.286z"/>
  				</g>
  			</g>
  			<g>
  				<g>
  					<path fill="#D86D7A" d="M128.887,105.803c0,0,3.452-13.843,3.405-31.489c0,0-0.346-9.093-3.367-2.999
  						c-6.935,13.988-11.855,31.252-9.311,40.515L128.887,105.803z"/>
  				</g>
  			</g>
  		</g>
  	</g>
  	<g>
  		<g>
  			<g>
  				<g opacity="0.39">
  					<g>
  						<path fill="#C6CCD6" d="M143.131,184.796c11.832,0,21.809-6,24.996-14.215c-3.188-10.985-13.164-16.989-24.996-16.989
  							c-11.834,0-21.811,6.004-24.995,16.989C121.32,178.796,131.297,184.796,143.131,184.796z"/>
  					</g>
  				</g>
  				<g>
  					<g>
  						<path fill="#2E476B" d="M143.131,184.796c11.832,0,21.809-6,24.996-14.215c-3.188-10.985-13.164-16.989-24.996-16.989
  							c-11.834,0-21.811,6.004-24.995,16.989C121.32,178.796,131.297,184.796,143.131,184.796z"/>
  					</g>
  				</g>
  				<g>
  					<g>
  						<path fill="#2E476B" d="M118.136,170.581c-0.694,2.384-1.081,4.992-1.081,7.836c0,10.952,6.772,19.831,26.076,19.831v-13.452
  							C131.297,184.796,121.32,178.796,118.136,170.581z"/>
  					</g>
  				</g>
  				<g>
  					<g>
  						<path fill="#4F7896" d="M168.064,170.581c0.691,2.384,1.078,4.992,1.078,7.836c0,10.952-6.622,20.387-26.073,19.831v-13.452
  							C154.901,184.796,164.878,178.796,168.064,170.581z"/>
  					</g>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<rect x="127.315" y="191.314" fill="#2E476B" width="10.862" height="14.977"/>
  				</g>
  			</g>
  			<g>
  				<g>
  					<rect x="148.082" y="191.314" fill="#4F7896" width="10.864" height="14.977"/>
  				</g>
  			</g>
  			<g>
  				<g>
  					<g>
  						<path fill="#3D3D3C" d="M132.633,208.232c0.458,0,0.831,0.373,0.831,0.833v2.08h8.739c0-5.222-4.234-9.453-9.458-9.453
  							c-5.22,0-9.455,4.231-9.455,9.453h8.509v-2.08C131.8,208.605,132.171,208.232,132.633,208.232z"/>
  					</g>
  				</g>
  			</g>
  			<g>
  				<g>
  					<g>
  						<path fill="#3D3D3C" d="M153.398,208.232c0.46,0,0.833,0.373,0.833,0.833v2.08h8.736c0-5.222-4.231-9.453-9.454-9.453
  							c-5.221,0-9.453,4.231-9.453,9.453h8.507v-2.08C152.567,208.605,152.938,208.232,153.398,208.232z"/>
  					</g>
  				</g>
  			</g>
  		</g>
  	</g>
  	<g  id="head">
  		<g id="cornini">
  			<g>
  				<g>
  					<path fill="#2E476B" d="M144.689,92.668c0.249,1.479,0.088,2.679-0.198,3.796c-0.304,1.106-0.767,2.104-1.372,3.006
  						c-0.604,0.904-1.352,1.71-2.262,2.407c-0.928,0.686-1.98,1.287-3.449,1.608c-0.256-1.482-0.096-2.684,0.189-3.8
  						c0.305-1.104,0.771-2.102,1.381-3.002c0.609-0.899,1.355-1.706,2.267-2.402C142.175,93.595,143.225,92.993,144.689,92.668z"/>
  				</g>
  			</g>
  			<g>
  				<g>
  					<path fill="#4F7896" d="M149.593,94.97c0.251,1.478,0.089,2.679-0.194,3.796c-0.307,1.106-0.771,2.104-1.375,3.007
  						c-0.604,0.903-1.353,1.709-2.264,2.406c-0.926,0.686-1.979,1.288-3.447,1.608c-0.254-1.483-0.096-2.685,0.192-3.801
  						c0.303-1.105,0.769-2.103,1.378-3.001c0.608-0.9,1.357-1.706,2.266-2.403C147.079,95.896,148.129,95.293,149.593,94.97z"/>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<path fill="#4F7896" d="M171.646,128.57c-0.479-2.581-1.652-7.708-1.652-7.708c-2.217-12.205-12.964-21.635-26.904-21.635
  						V176.5c18.408,0,31.667-12.791,31.667-28.569C174.757,140.449,172.959,135.654,171.646,128.57z"/>
  				</g>
  			</g>
  			<g>
  				<g>
  					<g>
  						<path fill="#2E476B" d="M114.552,128.57c0.477-2.581,1.65-7.708,1.65-7.708c2.219-12.205,12.964-21.635,26.905-21.635V176.5
  							c-18.407,0-31.666-12.791-31.666-28.569C111.441,140.449,113.239,135.654,114.552,128.57z"/>
  					</g>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<ellipse fill="#9C9B9B" cx="143.09" cy="161.359" rx="26.073" ry="17.058"/>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<circle fill="#3D3D3C"  cx="127.532" cy="158.723" r="3.745"/>
  				</g>
  			</g>
  			<g>
  				<g>
  					<circle   fill="#3D3D3C" cx="158.735" cy="158.723" r="3.745"/>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<circle fill="#9C9B9B" cx="128.86" cy="127.655" r="5.983"/>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<circle fill="#9C9B9B" cx="159.164" cy="127.655" r="5.983"/>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<circle fill="#3D3D3C" id="eyeL"  cx="128.86" cy="127.655" r="3.349"/>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<circle  id="eyeR" fill="#3D3D3C" cx="159.164" cy="127.655" r="3.349"/>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<circle fill="#FFFFFF" cx="130.093" cy="126.592" r="1.183"/>
  			</g>
  		</g>
  		<g>
  			<g>
  				<circle fill="#FFFFFF" cx="160.348" cy="126.592" r="1.184"/>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<path id="tL" fill="#F6E9E5" d="M137.756,175.103c0,2.317,1.063,2.273,2.446,2.445l0,0c1.532,0.104,2.446,0.108,2.446-2.445v-1.557
  						c0,0.263-4.893-0.361-4.893-0.361V175.103z"/>
  				</g>
  			</g>
  			<g>
  				<g>
  					<path id="tR" fill="#F6E9E5" d="M148.442,175.103c0,2.317-1.063,2.273-2.446,2.445l0,0c-1.533,0.104-2.446,0.108-2.446-2.445v-1.557
  						c0,0.263,4.893-0.361,4.893-0.361V175.103z"/>
  				</g>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<path fill="#3D3D3C" d="M143.461,174.546c-10.965,0-18.629-5.7-18.95-5.942c-0.245-0.186-0.293-0.533-0.108-0.777
  						c0.184-0.245,0.532-0.293,0.778-0.109c0.074,0.058,7.703,5.719,18.28,5.719c10.559,0,17.467-5.645,17.535-5.701
  						c0.236-0.195,0.586-0.166,0.783,0.07c0.195,0.236,0.164,0.586-0.07,0.782C161.416,168.83,154.44,174.546,143.461,174.546z"/>
  				</g>
  			</g>
  		</g>
  	</g>
  	<g>
  		<g>
  			<g>
  				<path fill="#3D3D3C" d="M92.781,188.701c1.566-0.699,6.128-2.715,11.657,0.086c2.437,1.236,3.812,2.293,4.844,3.102
  					c1.024,0.828,2.912,2.856,3.689,4.392c-1.568,0.706-1.828,1.003-3.832,1.646c-1.25,0.398-3.096,0.576-4.267,0.162
  					c-1.171-0.416-2.422-0.891-3.949-2.223C99.896,195.031,95.926,189.447,92.781,188.701z"/>
  			</g>
  		</g>
  		<g>
  			<g>
  				<g>
  					<path fill="#2E476B" d="M111.838,197.412c-0.711,0-1.45-0.059-2.218-0.184c-1.513-0.244-2.542-1.669-2.297-3.182
  						c0.245-1.514,1.669-2.542,3.183-2.3c8.965,1.441,12.45-13.779,12.484-13.935c0.333-1.495,1.814-2.441,3.313-2.105
  						c1.497,0.333,2.44,1.815,2.107,3.313C128.233,179.812,124.164,197.412,111.838,197.412z"/>
  				</g>
  			</g>
  		</g>
  	</g>
  </g>
  </svg>


</span>


<button type="button" id="start_game" style="display:none">Click to begin</button>
<div id="input_form" style="display:none">
  <input class="inputs" type="text" maxlength="1" />
  <input class="inputs" type="text" maxlength="1" />
  <input class="inputs" type="text" maxlength="1" />
  <input class="inputs" type="text" maxlength="1" />
  <input type="submit" name="" value="get score" id="submit_word">
</div>
<ol>

</ol>

<div id="aplphabet" style="display:none">
  <h4>strike out the letters you think are absent</h4>
  <span>A</span><span>B</span><span>C</span><span>D</span><br>
  <span>E</span><span>F</span><span>G</span><span>H</span><br>
  <span>I</span><span>J</span><span>K</span><span>L</span><br>
  <span>M</span><span>N</span><span>O</span><span>P</span><br>
  <span>Q</span><span>R</span><span>S</span><span>T</span><br>
  <span>U</span><span>V</span><span>W</span><span>X</span><br>
  <span>Y</span><span>Z</span>
</div>



  </body>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js">

  </script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sizzle/2.2.0/sizzle.js">

  </script>

      <script type="text/javascript">
      $("document").ready(function(){
        var $$ = Sizzle,
$cornini = $$("#cornini"),
$head = $$("#head"),
$tR = $$("#tR"),
$tL = $$("#tL"),
$eyeL = $$("#eyeL"),
$eyeR = $$("#eyeR"),
$earR = $$("#earR"),
$earL = $$("#earL"),
tl,tl2,tl3,tl4,tl5,tl6,tl7,tl8;

tl = new TimelineMax ();
tl2 = new TimelineMax ( {repeat:-1, yoyo:true});
tl3 = new TimelineMax ({repeat:-1, yoyo:true});
tl4 = new TimelineMax ({repeat:-1, yoyo:true});
tl5 = new TimelineMax ({repeat:-1, yoyo:true});
tl6 = new TimelineMax ({repeat:-1, yoyo:true});
tl7 = new TimelineMax ({repeat:-1, yoyo:true});
tl8 = new TimelineMax ({repeat:-1, yoyo:true});

tl.from(cornini, 0.5, {x:0, y:10, ease: Power2.easeOut}, 2)
.to(cornini, 0.5, {x:0, y:1, ease: Power2.easeOut});


tl2.set(head, {y:0})
.fromTo(head, 1, {y:-3}, {y:0} );

tl3.set(eyeL, {scale:0.9, transformOrigin:"50% 50%"})
.fromTo(eyeL, 2.5, {scale:0.9,ease: Power0.easeNone}, {scale:1.5,ease: Power0.easeNone });

tl4.set(eyeR, {scale:0.9, transformOrigin:"50% 50%"})
.fromTo(eyeR, 2.5, {scale:0.9,ease: Power0.easeNone}, {scale:1.5, ease: Power0.easeNone});

tl5.fromTo(tL, 2.5, {scaleX:1, scaleY:0}, {scaleX:1, scaleY:1});
tl6.fromTo(tR, 2.5, {scaleX:1, scaleY:0}, {scaleX:1, scaleY:1});

tl7.set(earL, {transformOrigin:"100% 100%", rotation: 10, x:'+=2', y:'-=0'} )
.fromTo(earL, 2.5, {rotation:10,  y:'-=0',ease: Power1.easeOut}, {rotation:-50,  y:'-=10',ease: Power1.easeOut});


tl8.set(earR, {transformOrigin:"0% 100%", rotation: -15, x:0, y:0} )
.fromTo(earR, 2.5, {rotation:-15,x:0, y:0,ease: Power1.easeOut }, {rotation:50, x:'-=3', y:'-=10',ease: Power1.easeOut})
        $(".inputs").keyup(function () {
    if (this.value.length == this.maxLength) {
      var $next = $(this).next('.inputs');
      if ($next.length)
          $(this).next('.inputs').focus();
      else
          $(this).blur();
    }
});
        game_ready=false;
        four_letter_words=[];

        function select_word(array){
          var index=Math.random()*4310
          index= Math.ceil(index);
          return array[index]
        }
        function score_word(player_word,game_word){
          bull_count=0;
          cow_count=0;

          for(i=0;i<4;i++){
            if(player_word.includes(game_word[i])){
              if(player_word[i]==game_word[i]){
                bull_count=bull_count+1;
              }
              else{
                cow_count= cow_count+1;
              }
            }
          }
          donkey_count=4-(bull_count+cow_count);
          return {bull_count: bull_count, cow_count: cow_count, donkey_count: donkey_count}
        }
        $.ajax({
          url: '/text_file',
          success: function(data){
          data=  data.replace( /\n/g, " " ).split( " " );
          for(var i=0;i <data.length;i++){
            if(data[i].length==4){
              hasDuplicates = (/([a-zA-Z]).*?\1/).test(data[i])
              if(!hasDuplicates){
                four_letter_words.push(data[i]);
              }
            }
          }
            game_ready = true;
            $('#intro').css('display','none');
            $('#start_game').css('display','block');
            $('#aplphabet').css('display','block');
            $('span').click(function(){
              // console.log();
              if ($(this).css('text-decoration')=='line-through solid rgb(0, 0, 0)'){
                // console.log("line is drawn");
                $(this).css('text-decoration','none');
              }
              else if ($(this).css('text-decoration')=='none solid rgb(0, 0, 0)'){
                // console.log('line shouldnt be drawn');
                $(this).css('text-decoration','line-through');
                // console.log($(this).css('text-decoration'));
              }
            });
          }
        })

        $('#start_game').click(function(){
          $(this).css('display','none')
          $('#input_form').css('display','block');
          console.log(game_ready);
                  if(game_ready==true){
                    game_word=select_word(four_letter_words);

                    console.log("game word is");
                    console.log(game_word);
                    $('#submit_word').click(function(event){
                      event.preventDefault();
                      player_word="";
                      $('.inputs').each(function(){
                        player_word= player_word+ $(this).val();
                        player_word=player_word.toLowerCase()
                      })
                      console.log("player word is:");
                      console.log(player_word);
                      if(four_letter_words.indexOf(player_word) > -1){
                        console.log("this word is good");
                        var score= score_word(player_word,game_word)
                        console.log(score_word(player_word, game_word));
                        $('ol').append("<li>"+player_word +" : "+score.bull_count+ "Bulls,"+score.cow_count+"Cows,"+score.donkey_count+"donkeys"+ "</li>")
                        if(score.bull_count==4){
                          alert("you win!")
                        }


                      }
                      else{
                        alert("this word is bad");
                      }
                    })




                  }
        })





      });

      </script>
</html>
